<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">

    <title>Laravel Notification Channels </title>

    <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="manifest" href="/icons/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href='https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/assets/prism.css">
    <link rel="stylesheet" href="/assets/css/all.css">
</head>

<body>
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-P62952"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P62952');</script>
<!-- End Google Tag Manager -->

    <div id="header">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <a href="/">
                        <img src="/assets/logo.png"
                             alt="Laravel Notification Channels">
                    </a>

                    <h1><a href="/">Laravel Notification Channels</a></h1>
                </div>
                <div class="col-md-6 text-right buttons">
                    <a href="https://github.com/laravel-notification-channels">
                        <span>GitHub</span>
                    </a>

                    <a href="https://packagist.org/packages/laravel-notification-channels/">
                        <span>Packagist</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

<div class="container">

    <div class="row">
        <div class="col-md-2">
            <ul class="menu-list">
    <li><a href="/">Contributing</a></li>
</ul>

            
<p class="menu-label">Push / Webpush</p>
<ul class="menu-list">
    <li><a href="/onesignal/">OneSignal</a></li>
    <li><a href="/pusher-push-notifications/">Pusher Push Notifications</a></li>
</ul>

<p class="menu-label">Messenger / Chat</p>
<ul class="menu-list">
    <li><a href="/telegram/">Telegram</a></li>
</ul>
        </div>
        <div class="col-md-10 realContent">
                        <h1>OneSignal</h1>
<p>This package makes it easy to send <a href="https://documentation.onesignal.com/docs">OneSignal notifications</a> with Laravel 5.3.</p>
<h2>Installation</h2>
<p>You can install the package via composer:</p>
<pre><code class="language-bash">composer require laravel-notification-channels/onesignal</code></pre>
<p>You must install the service provider:</p>
<pre><code class="language-php">// config/app.php
'providers' =&gt; [
    ...
    NotificationChannels\OneSignal\OneSignalProvider::class,
];</code></pre>
<h3>Setting up your OneSignal account</h3>
<p>Add your OneSignal App ID and REST API Key to your <code>config/services.php</code>:</p>
<pre><code class="language-php">// config/services.php

    'onesignal' =&gt; [
        'app_id' =&gt; env('ONESIGNAL_APP_ID'),
        'rest_api_key' =&gt; env('ONESIGNAL_REST_API_KEY')
    ]</code></pre>
<h2>Usage</h2>
<p>Now you can use the channel in your <code>via()</code> method inside the notification:</p>
<pre><code class="language-php">use NotificationChannels\OneSignal\OneSignalChannel;
use NotificationChannels\OneSignal\OneSignalMessage;
use NotificationChannels\OneSignal\OneSignalWebButton;
use Illuminate\Notifications\Notification;

class AccountApproved extends Notification
{
    public function via($notifiable)
    {
        return [OneSignalChannel::class];
    }

    public function toOneSignal($notifiable)
    {
        return OneSignalMessage::create()
            -&gt;subject("Your {$notifiable-&gt;service} account was approved!")
            -&gt;body("Click here to see details.")
            -&gt;url('http://onesignal.com')
            -&gt;webButton(OneSignalWebButton::create('link-1')
                -&gt;text('Click here')
                -&gt;icon('https://upload.wikimedia.org/wikipedia/commons/4/4f/Laravel_logo.png')
                -&gt;url('http://laravel.com')
            );
    }
}</code></pre>
<p>In order to let your Notification know which OneSignal user(s) you are targeting, add the <code>routeNotificationForOneSignal</code> method to your Notifiable model.</p>
<p>You can either return a single player-id, or if you want to notify multiple player IDs just return an array containing all IDs.</p>
<pre><code class="language-php">public function routeNotificationForOneSignal()
{
    return 'ONE_SIGNAL_PLAYER_ID';
}</code></pre>
<h3>All available methods</h3>
<ul>
<li><code>subject('')</code>: Accepts a string value for the title.</li>
<li><code>body('')</code>: Accepts a string value for the notification body.</li>
<li><code>icon('')</code>: Accepts an url for the icon.</li>
<li><code>url('')</code>: Accepts an url for the notification click event.</li>
<li><code>webButton(OneSignalWebButton $button)</code>: Allows you to add action buttons to the notification (Chrome 48+ (web push) only).</li>
<li><code>button(OneSignalButton $button)</code>: Allows you to add buttons to the notification (Supported by iOS 8.0 and Android 4.1+ devices. Icon only works for Android).</li>
<li><code>setData($key, $value)</code>: Allows you to set additional data for the message payload. For more information check the <a href="https://documentation.onesignal.com/docs/notifications-create-notification">OneSignal documentation</a>.</li>
</ul>
<h3>Button usage</h3>
<pre><code class="language-php">OneSignalMessage::create()
    -&gt;button(OneSignalButton::create('id')
        -&gt;text('button text')
        -&gt;icon('button icon')
    );</code></pre>
<h3>WebButton usage</h3>
<pre><code class="language-php">OneSignalMessage::create()
    -&gt;webButton(OneSignalWebButton::create('id')
        -&gt;text('button text')
        -&gt;icon('button icon')
        -&gt;url('button url')
    );</code></pre>
                    </div>
    </div>
</div>

<footer>
    <div class="container">
        <div class="content">
            &copy; Copyright 2016 Laravel Notification Channels
        </div>
    </div>
</footer>

<script src="/assets/prism.js"></script>
</body>
</html>
